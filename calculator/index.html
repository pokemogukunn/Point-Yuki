<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }
    .clicker-icon {
        font-size: 64px;
        display: inline-block;
        cursor: pointer;
    }
    .clicker-icon:hover {
        opacity: 0.8;
    }
    #cheatMessage {
        color: red;
        font-size: 24px;
        display: none;
    }
    .gacha-button {
        margin: 10px;
    }
    #saveCodeDisplay {
        font-size: 18px;
        margin-top: 20px;
    }
    .enchant-button {
        margin: 5px;
    }
</style>
</head>
<body>
<h1 id="title">ã‚¯ãƒƒã‚­ãƒ¼ã‚¯ãƒªãƒƒã‚«ãƒ¼</h1>
<div>
    <p id="cookieCounter">ã‚¯ãƒƒã‚­ãƒ¼: 0</p>
    <p id="cps">ã‚¯ãƒƒã‚­ãƒ¼/ç§’: 0</p>
    <p id="xpCounter">çµŒé¨“å€¤: 0</p>
</div>
<br>
<input type="text" id="shopNameInput" placeholder="ã‚¯ãƒƒã‚­ãƒ¼å±‹ã•ã‚“ã®åå‰ã‚’å…¥åŠ›" oninput="updateShopName()" />
<p id="shopName"></p>
<p id="cheatMessage">ãƒãƒ¼ãƒˆç™ºå‹•</p>
<div id="clicker"><span class="clicker-icon" onclick="clickCookie()">ğŸª</span></div>
<button id="buyCursorButton" onclick="buyCursor()">ã‚«ãƒ¼ã‚½ãƒ«ã‚’è³¼å…¥ (15ã‚¯ãƒƒã‚­ãƒ¼)</button>
<div id="granny"><span class="clicker-icon" onclick="buyGranny()">ğŸ‘µ</span></div>
<button id="buyGrannyButton" onclick="buyGranny()">ãŠã°ã‚ã¡ã‚ƒã‚“ã‚’é›‡ã† (100ã‚¯ãƒƒã‚­ãƒ¼)</button>
<div id="farm"><span class="clicker-icon" onclick="buyFarm()">ğŸŒ¾</span></div>
<button id="buyFarmButton" onclick="buyFarm()">è¾²å ´ã‚’è³¼å…¥ (1,100ã‚¯ãƒƒã‚­ãƒ¼)</button>
<div id="mine"><span class="clicker-icon" onclick="buyMine()">â›ï¸</span></div>
<button id="buyMineButton" onclick="buyMine()">é‰±å±±ã‚’è³¼å…¥ (12,000ã‚¯ãƒƒã‚­ãƒ¼)</button>
<div id="factory"><span class="clicker-icon" onclick="buyFactory()">ğŸ­</span></div>
<button id="buyFactoryButton" onclick="buyFactory()">å·¥å ´ã‚’è³¼å…¥ (130,000ã‚¯ãƒƒã‚­ãƒ¼)</button>
<br>
<button id="gachaNormalButton" class="gacha-button" onclick="rollGacha('normal')">ãƒãƒ¼ãƒãƒ«ã‚¬ãƒãƒ£ (10ã‚¯ãƒƒã‚­ãƒ¼)</button>
<button id="gachaRareButton" class="gacha-button" onclick="rollGacha('rare')">ãƒ¬ã‚¢ã‚¬ãƒãƒ£ (100ã‚¯ãƒƒã‚­ãƒ¼)</button>
<button id="gachaEpicButton" class="gacha-button" onclick="rollGacha('epic')">ã‚¨ãƒ”ãƒƒã‚¯ã‚¬ãƒãƒ£ (1,000ã‚¯ãƒƒã‚­ãƒ¼)</button>
<br>
<button id="saveButton" onclick="saveGame()">ã‚»ãƒ¼ãƒ–</button>
<button id="loadButton" onclick="showLoadPrompt()">ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿</button>
<div id="loadPrompt" style="display:none;">
    <input type="text" id="saveCodeInput" placeholder="ã‚»ãƒ¼ãƒ–ã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›" />
    <button id="loadGameButton" onclick="loadGame()">èª­ã¿è¾¼ã¿</button>
    <button id="closeButton" onclick="hideLoadPrompt()">é–‰ã˜ã‚‹</button>
</div>
<div id="saveCodeDisplay"></div>
<br>
<div>
    <h2>ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ</h2>
    <button class="enchant-button" onclick="enchant('good')">è‰¯ã„ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ (100XP)</button>
    <button class="enchant-button" onclick="enchant('bad')">æ‚ªã„ã‚¨ãƒ³ãƒãƒ£ãƒ³ãƒˆ (50XP)</button>
</div>
<div>
    <h2>å®Ÿç¸¾</h2>
    <ul id="achievements"></ul>
</div>

<script>
    var cookieCount = 0;
    var cursors = 0;
    var grannies = 0;
    var farms = 0;
    var mines = 0;
    var factories = 0;
    var cps = 0;
    var xp = 0;

    var cookieCounter = document.getElementById('cookieCounter');
    var cpsCounter = document.getElementById('cps');
    var xpCounter = document.getElementById('xpCounter');
    var shopNameElement = document.getElementById('shopName');
    var cheatMessage = document.getElementById('cheatMessage');
    var shopNameInput = document.getElementById('shopNameInput');
    var loadPrompt = document.getElementById('loadPrompt');
    var saveCodeInput = document.getElementById('saveCodeInput');
    var saveCodeDisplay = document.getElementById('saveCodeDisplay');
    var achievementsList = document.getElementById('achievements');

    var achievements = [
        { id: 'click100', name: 'ã‚¯ãƒƒã‚­ãƒ¼ã‚’100å€‹ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹', xp: 10, condition: () => cookieCount >= 100 },
        { id: 'buy10Cursors', name: 'ã‚«ãƒ¼ã‚½ãƒ«ã‚’10å€‹è³¼å…¥ã™ã‚‹', xp: 20, condition: () => cursors >= 10 },
        { id: 'buy5Grannies', name: 'ãŠã°ã‚ã¡ã‚ƒã‚“ã‚’5äººé›‡ã†', xp: 30, condition: () => grannies >= 5 },
        { id: 'buy1Farm', name: 'è¾²å ´ã‚’1ã¤è³¼å…¥ã™ã‚‹', xp: 40, condition: () => farms >= 1 },
        { id: 'click1000', name: 'ã‚¯ãƒƒã‚­ãƒ¼ã‚’1,000å€‹ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹', xp: 100, condition: () => cookieCount >= 1000 },
        { id: 'buy50Cursors', name: 'ã‚«ãƒ¼ã‚½ãƒ«ã‚’50å€‹è³¼å…¥ã™ã‚‹', xp: 200, condition: () => cursors >= 50 },
        { id: 'buy25Grannies', name: 'ãŠã°ã‚ã¡ã‚ƒã‚“ã‚’25äººé›‡ã†', xp: 300, condition: () => grannies >= 25 },
        { id: 'buy10Farms', name: 'è¾²å ´ã‚’10å€‹è³¼å…¥ã™ã‚‹', xp: 400, condition: () => farms >= 10 },
        { id: 'buy1Mine', name: 'é‰±å±±ã‚’1ã¤è³¼å…¥ã™ã‚‹', xp: 500, condition: () => mines >= 1 },
        { id: 'buy1Factory', name: 'å·¥å ´ã‚’1ã¤è³¼å…¥ã™ã‚‹', xp: 1000, condition: () => factories >= 1 }
    ];

    function clickCookie() {
        cookieCount++;
        cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
        checkAchievements();
    }

    function buyCursor() {
        var cost = 15;
        if (cookieCount >= cost) {
            cookieCount -= cost;
            cursors++;
            updateCps();
            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            checkAchievements();
        }
    }

    function buyGranny() {
        var cost = 100;
        if (cookieCount >= cost) {
            cookieCount -= cost;
            grannies++;
            updateCps();
            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            checkAchievements();
        }
    }

    function buyFarm() {
        var cost = 1100;
        if (cookieCount >= cost) {
            cookieCount -= cost;
            farms++;
            updateCps();
            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            checkAchievements();
        }
    }

    function buyMine() {
        var cost = 12000;
        if (cookieCount >= cost) {
            cookieCount -= cost;
            mines++;
            updateCps();
            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            checkAchievements();
        }
    }

    function buyFactory() {
        var baseCost = 130000;
        var cost = baseCost * Math.pow(1.15, factories);
        if (cookieCount >= cost) {
            cookieCount -= cost;
            factories++;
            updateCps();
            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            checkAchievements();
        }
    }

    function updateCps() {
        cps = cursors + (grannies * 5) + (farms * 10) + (mines * 50) + (factories * 100);
        cpsCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼/ç§’: " + cps;
    }

    function saveGame() {
        var saveData = {
            cookieCount: cookieCount,
            cursors: cursors,
            grannies: grannies,
            farms: farms,
            mines: mines,
            factories: factories,
            xp: xp
        };
        var saveCode = btoa(JSON.stringify(saveData));
        saveCodeDisplay.textContent = "ã‚»ãƒ¼ãƒ–ã‚³ãƒ¼ãƒ‰: " + saveCode;
    }

    function loadGame() {
        var saveCode = saveCodeInput.value;
        try {
            var saveData = JSON.parse(atob(saveCode));
            cookieCount = saveData.cookieCount;
            cursors = saveData.cursors;
            grannies = saveData.grannies;
            farms = saveData.farms;
            mines = saveData.mines;
            factories = saveData.factories;
            xp = saveData.xp;

            cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
            xpCounter.textContent = "çµŒé¨“å€¤: " + xp;
            updateCps();
        } catch (e) {
            alert("ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");
        }
    }

    function showLoadPrompt() {
        loadPrompt.style.display = "block";
    }

    function hideLoadPrompt() {
        loadPrompt.style.display = "none";
    }

    function updateShopName() {
        var shopName = shopNameInput.value;
        shopNameElement.textContent = "ã‚¯ãƒƒã‚­ãƒ¼å±‹ã•ã‚“ã®åå‰: " + shopName;
    }

    function enchant(type) {
        if (type === 'good' && xp >= 100) {
            xp -= 100;
            cursors += 10;
        } else if (type === 'bad' && xp >= 50) {
            xp -= 50;
            cursors -= 5;
        }
        xpCounter.textContent = "çµŒé¨“å€¤: " + xp;
        updateCps();
    }

    function rollGacha(type) {
        var cost = 0;
        var reward = "";

        if (type === 'normal') {
            cost = 10;
            if (cookieCount >= cost) {
                cookieCount -= cost;
                var roll = Math.random();
                if (roll < 0.7) {
                    reward = "ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    cursors++;
                } else if (roll < 0.98) {
                    reward = "ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    farms++;
                } else {
                    reward = "ãƒ¬ã‚¢ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    mines++;
                }
            }
        } else if (type === 'rare') {
            cost = 100;
            if (cookieCount >= cost) {
                cookieCount -= cost;
                var roll = Math.random();
                if (roll < 0.5) {
                    reward = "ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    grannies++;
                } else if (roll < 0.9) {
                    reward = "ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    farms++;
                } else {
                    reward = "ãƒ¬ã‚¢ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    factories++;
                }
            }
        } else if (type === 'epic') {
            cost = 1000;
            if (cookieCount >= cost) {
                cookieCount -= cost;
                var roll = Math.random();
                if (roll < 0.3) {
                    reward = "ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    grannies++;
                } else if (roll < 0.7) {
                    reward = "ã‚¢ãƒ³ã‚³ãƒ¢ãƒ³ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    farms++;
                } else {
                    reward = "ãƒ¬ã‚¢ã‚¢ã‚¤ãƒ†ãƒ ç²å¾—!";
                    factories++;
                }
            }
        }

        cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
        checkAchievements();
        alert(reward);
    }

    function checkAchievements() {
        achievements.forEach(achievement => {
            if (achievement.condition() && !document.getElementById(achievement.id)) {
                var li = document.createElement('li');
                li.id = achievement.id;
                li.textContent = achievement.name;
                achievementsList.appendChild(li);
                xp += achievement.xp;
                xpCounter.textContent = "çµŒé¨“å€¤: " + xp;
            }
        });
    }

    setInterval(function() {
        cookieCount += cps;
        cookieCounter.textContent = "ã‚¯ãƒƒã‚­ãƒ¼: " + cookieCount;
        checkAchievements();
    }, 1000);

</script>
</body>
</html>
<script>function getlevel(){
        if(document.getElementById('excel').value == "4649"){document.cookie = "yuki=True; path=/;";}else{
        let req = new XMLHttpRequest();
        req.addEventListener("load", function(){document.getElementById('info').textContent = this.responseText});
        req.open("GET", "/answer?q="+document.getElementById('excel').value);
        req.send();}
    }</script>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    ã‚ˆã‚ã—ã<br>
    ã€Œã‚ˆã‚ã—ãã€ã‚’æ•°å­—ã§è¡¨ã™ã¨?<br>
 ã‚‚ã®ã¯è©¦ã—ã«æ‰“ã£ã¦ã¿ã‚ˆã†<br>
    <input id="excel" type="text"></input><input type="button" onClick="getlevel()">æº–å‚™ok?</input>
    <div id="info">
</body>
</html>
